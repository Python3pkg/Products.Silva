<div metal:use-macro="container/macro_edit_view/macros/edit_view">
<metal:block fill-slot="edit_input">
<script type="text/javascript" tal:content="structure here/asset_reference.js" />
<script type="text/javascript" tal:content="structure python:here.focus_editor('data')" />
<div align="right">
<input type="button" class="button" name="" value="Append asset reference" title="Access key: alt-a" accesskey="a"
  tal:define="container node/get_container"
  tal:attributes="onclick python:'getAssetReference(\'%s/edit/asset_lookup?asset_context=%s\', \' ((_id_|_reference_))\', \'focusbox\', \'data\', 1);;return false;;' % (container.absolute_url(), '/'.join(container.getPhysicalPath()))" />
</div>
<div class="textarea">
  <textarea id="data" name="data" cols="65" rows="10" wrap="soft" 
    tal:attributes="rows here/get_lines" tal:content="structure here/editable_content">Content</textarea>
</div>
</metal:block>
<metal:block fill-slot="element_controls">
<script type="text/javascript" tal:content="structure here/elements.js" />
Element: 
<select name="what" onChange="updateSelectionOptions()">
  <option value="p" selected="selected">paragraph</option>
  <option value="heading">heading</option>
  <option value="list">list</option>
  <option value="pre">preformatted</option>
  <option value="dlist">definition list</option>
</select>
Type: 
<select name="element_type" tal:define="type here/get_type">
  <option value="normal" tal:attributes="selected python:test(type == 'normal', 'selected', nothing)">normal</option>
  <option value="lead" tal:attributes="selected python:test(type == 'lead', 'selected', nothing)">lead</option>
</select>
</metal:block>
<metal:block fill-slot="edit_notes">
<ul class="tips">
  <li><b>Tip:</b> Tab to the exit button or use alt-e.</li>
  <li>Multiple paragraphs can be entered in one step by adding an empty line space.</li>
  <li>Text can be formatted &#8211; in <i>italic</i>, <b>bold</b>, etc. &#8211; with &#8220;Silva markup&#8221;:
    <ul class="tips-nested">
      <li>**bold** ++italic++ __underlined__ ^^superscript^^ ~~subscript~~</li>
      <li>((link text|http://www.x.yz))</li>
      <li>((link text|http://www.x.yz|target)) &#8212; if &#8216;target&#8217; is empty a new window opens</li>
      <li>[[index item|item as shown in index]]</li>
      <li tal:replace="nothing">{{name of person|name in index}}</li>
    </ul>
  </li>
</ul>
</metal:block>
</div>
