<html metal:use-macro="here/layout_macro.html/macros/layout">
  <head>
    <title tal:content="template/title">The title</title>
  </head>
  <body>

<div metal:fill-slot="main">

<tal:block condition="python: hasattr(here, 'service_members') and here.service_members.allow_subscription()">
<h2>Become a visitor</h2>

<!-- __________________________ start feedback _________________________ -->
<tal:block
  define="msg options/message | nothing"
  condition="msg">
<div class="feedback">
<span class="error" tal:content="structure msg">message</span>
</div>
</tal:block>

<form action="add_visitor" method="post">
Username:<br />
<input type="text" name="username" /><br /><br />
Password:<br />
<input type="password" name="password" /><br /><br />
Retype password:<br />
<input type="password" name="password_retyped" /><br /><br />
<input type="submit">
</form>

</tal:block>
<tal:block condition="python: not hasattr(here, 'service_members') or not here.service_members.allow_subscription()">

This site does not allow requests for subscription!

</tal:block>

</div>

  </body>
</html>
