<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html metal:use-macro="here/layout_macro.html/macros/layout"
  lang="en"
  xml:lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:notal="http://www.infrae.com/silva/notal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  i18n:domain="silva"
  >
  <tal:block define="dummy context/@@headers" />
  <head>
    <style media="all"
      type="text/css"
      metal:fill-slot="style">
      @import url(globals/silva.css);
    </style>
    <title i18n:translate="">Search</title>
  </head>
  <body>
    <metal:block fill-slot="main"
      tal:define="
        view here;
        model request/model;
        icon python:view.render_icon(model);"
      >
      <form method="POST" name="form" action=".">
        <table class="listing">
          <thead>
            <tal:block replace="nothing">
              ______________ vein + title row ______________
            </tal:block>
            <tr>
              <td class="top"
                colspan="3">
                <h2 i18n:translate="">
                  <img tal:replace="structure icon" />
                  Search in 
                  <span style="text-transform:lowercase;"
                    tal:content="model/meta_type" i18n:name="meta_type">Meta type</span> 
                    &#xAB;<tal:block content="model/get_title_or_id" i18n:name="title_or_id" />&#xbb;
                </h2>
              </td>
            </tr>
            <tal:block replace="nothing">
              ______________ top controls row ______________
            </tal:block>
            <tr class="top-controls">
              <td colspan="3">
                <h3 i18n:translate="">
                  Search interface
                </h3>
              </td>
            </tr>
          </thead>

          <tbody tal:define="fields view/search_form/get_fields">
            <tr>
              <th class="align-right"
                width="20%" i18n:translate="">
                Element
              </th>
              <th i18n:translate="">
                Content
              </th>
              <th width="40%" i18n:translate="">
                Note
              </th>
            </tr>

            <tal:repeat repeat="field fields">
              <tal:define define="iterate repeat/field/odd">
                <tr tal:attributes="class python:iterate and 'even' or 'odd'">
                  <td class="field-title" style="white-space: nowrap">
                    <span tal:replace="python:field['title']">
                      Title</span><span class="warning"
                      tal:condition="python:field.is_required()">*</span>
                  </td>
                  <td>
                    <input tal:replace="structure python:field.render_from_request(request)" />
                  </td>
                  <td>
                    <span tal:replace="structure python:field.get_value('description')">
                      comments here (field description)
                    </span>&nbsp;
                  </td>
                </tr>
              </tal:define>
            </tal:repeat>
          </tbody>

          <tfoot>
            <tr class="controls">
              <td class="align-right"
                colspan="3">
                <input class="button"
                  type="submit"
                  name="search_results:method"
                  value="Find"
                  title="access key: alt-f"
                  accesskey="f"
                  i18n:attributes="value;title"
                />
              </td>
            </tr>
          </tfoot>
        </table>
      </form>

    </metal:block>
  </body>
</html>
