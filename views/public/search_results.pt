<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html metal:use-macro="here/layout_macro.html/macros/layout"
  lang="en"
  xml:lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:notal="http://www.infrae.com/silva/notal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  i18n:domain="silva"
  >
  <tal:block define="dummy request/model/@@headers" />
  <head>
    <style media="all"
      type="text/css"
      metal:fill-slot="style">
      @import url(globals/silva.css);
    </style>
    <title i18n:translate="">Search results</title>
  </head>
  <body>
    <metal:block fill-slot="main"
      tal:define="
        view here;
        model request/model;
        icon python:view.render_icon(model);          
        results view/perform_search;
        batch python:view.getBatch(results);"
      >
      <form method="POST" name="form" action=".">

      <tal:block tal:condition="results">    
        <table class="listing" cellspacing="0" cellpadding="3" border="0" width="100%">
          <thead>
            <tr class="controls">
              <td class="rowhead" align="left">
                <tal:block condition="request/previous_batch_url | nothing">
                  [<a href="previousbatch" tal:attributes="href request/previous_batch_url" i18n:translate="">
                  &lt;&lt; Previous
                  </a>]
                </tal:block>
              </td>
              <td class="rowhead" nowrap="1" i18n:translate="">
                Showing results
                <tal:block replace="batch/start" i18n:name="batch_start" />
                to
                <tal:block replace="batch/end" i18n:name="batch_end" />.
              </td>
              <td class="rowhead" align="right">
                <tal:block condition="request/next_batch_url | nothing">
                  [<a href="nextbatch" tal:attributes="href request/next_batch_url" i18n:translate="">
                  Next &gt;&gt;
                  </a>]
                </tal:block>
              </td>
            </tr>
          </thead>
          <tbody>
            <tal:block repeat="item batch">
              <tal:block
                tal:define="iterate repeat/item/even;">
                <tr valign="top"
                  tal:attributes="class python: iterate and 'even' or 'odd'">
                  <td>
                  </td>
                  <td
                    tal:define="
                      doc item/getObject;
                      url doc/silva_object_url | string:#;
                      ">
                    <a href="#"
                      tal:content="string:${doc/get_title_or_id}"
                      tal:attributes="href url" />
                  </td>
                  <td>
                  </td>
                </tr>
              </tal:block>
            </tal:block>
          </tbody>
          <tfoot>
            <tr class="controls">
              <td class="rowhead" align="left">
                <tal:block condition="request/previous_batch_url | nothing">
                  [<a href="previousbatch" tal:attributes="href request/previous_batch_url" i18n:translate="">
                  &lt;&lt; Previous
                  </a>]
                </tal:block>
              </td>
              <td class="rowhead" nowrap="1">
              </td>
              <td class="rowhead" align="right">
                <tal:block condition="request/next_batch_url | nothing">
                  [<a href="nextbatch" tal:attributes="href request/next_batch_url" i18n:translate="">
                  Next &gt;&gt;
                  </a>]
                </tal:block>
              </td>
            </tr>
          </tfoot>
        </table>
      </tal:block>

    </metal:block>
  </body>
</html>
