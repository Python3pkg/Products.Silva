<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html
  lang="en"
  xml:lang="en"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns="http://www.w3.org/1999/xhtml"
  tal:define="
    model request/model;
    trigger model/security_trigger;
    root_url model/get_root_url;
    title   python: model.get_title_editable() or model.id;
    message_type  options/message_type|nothing;
    message options/message|nothing"
>
<head>
 <title>
   <tal:block content="title">title</tal:block> &#8211;
   <tal:block i18n:translate="">preview</tal:block>
 </title>
<link rel="shortcut icon"
  tal:attributes="href string:$root_url/globals/silvacon.ico"
/>
<script type="text/javascript">
<!--
function onloadResizeTopFrame() {
  frame = document.getElementById("preview_frameset");
  tf_height = window.frames[0].document.height;
  /* XXX make this dynamically pull the real height */
  tf_def_height = 50;

  if (tf_height > tf_def_height) {
    frame.setAttribute("rows",tf_height + "px,*");
  }
}
-->
</script>
</head>
<frameset rows="50px,*" id="preview_frameset" frameborder="0" framespacing="0" border="0" marginwidth="0" marginheight="0" onload="onloadResizeTopFrame()">
 <frame id="preview_frame_top" scrolling="no"
   tal:attributes="src python:'%s/edit/tab_preview_frame_top?message=%s&message_type=%s'%(model.absolute_url(),message or '',message_type or '')" />
 <frame id="preview_frame_bottom"
   tal:attributes="src request/model/@@absolute_url/preview" />
</frameset>
</html>
