<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html note="this is the properties screen"
  tal:omit-tag=""
  lang="en"
  xml:lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:notal="http://www.infrae.com/silva/notal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  tal:define="
    global vein string:properties;"
  i18n:domain="silva">

<metal:block use-macro="here/macro_index/macros/master">
  
<metal:block metal:fill-slot="middleground">
  <metal:block use-macro="here/macro_middleground/macros/properties" />
</metal:block>

<metal:block fill-slot="main">
  <table class="columns columns2">
    <tbody>
      <tr>
        <tal:block replace="nothing">
          _____________________ sidebar _____________________
        </tal:block>
        <td class="left">
          <metal:block use-macro="view/macro_vein_navigation/macros/vein">
            <metal:fill-slot fill-slot="sidebar">
              <tal:block replace="structure python: view.service_sidebar.render(model, 'tab_metadata', vein)" />
            </metal:fill-slot>
          </metal:block>
        </td>
        <tal:block replace="nothing">
          _____________________ main _____________________
        </tal:block>

        <span tal:replace="nothing">
          Here we insert a metadata/property related view
        </span>
        <tal:block replace="structure model/@@additional_metadata"/>
        
        <td class="main"
          tal:define="display_flag python:1;">
          <tal:block replace="nothing"> _______ edit editable version metadata _______ </tal:block>
          <tal:block condition="model/implements_versioning">
            <tal:block 
              define="content model/get_editable | nothing;"
              condition="model/get_unapproved_version">
              <metal:block use-macro="here/macro_edit_metadata/macros/metadata" />
            </tal:block>
            
            <tal:block replace="nothing"> _______ view previewable version metadata _______ </tal:block>
            <tal:block 
              define="content model/get_previewable | nothing;"
              condition="model/get_approved_version">
              <metal:block use-macro="here/macro_view_metadata/macros/metadata">
                <h2 metal:fill-slot="table_title">
                  <img tal:replace="structure icon" />
                  <tal:block i18n:translate="">properties</tal:block>
                  <tal:block i18n:translate="">
                  <tal:block condition="not: model/implements_container" i18n:name="for_approved_version_of_title">
                    <tal:block i18n:translate="">for approved version of
                      &#xab;<span tal:replace="string:${title}" i18n:name="title">title</span>&#xbb;
                    </tal:block>
                  </tal:block>
                  </tal:block>
                </h2>
              </metal:block>
            </tal:block>
            
            <tal:block replace="nothing"> _______ view public version metadata _______ </tal:block>
            <tal:block 
              define="
                content model/get_viewable | nothing;
                display_flag python:0"
              condition="model/get_public_version">
              <metal:block use-macro="here/macro_view_metadata/macros/metadata">
                <h2 metal:fill-slot="table_title">
                  <img tal:replace="structure icon" />
                  <tal:block i18n:translate="">properties</tal:block>
                  <span tal:condition="not: model/implements_container" i18n:translate="">
                    for public version of
                    &#xab;<span tal:replace="string:${title}" i18n:name="title">title</span>&#xbb;
                  </span>
                </h2>
              </metal:block>
            </tal:block>

            <tal:block replace="nothing"> _______ view closed version metadata _______ </tal:block>
            <tal:block 
              define="
                content model/get_last_closed | nothing;
                display_flag python:0"
              condition="python: not model.get_next_version() and not model.get_public_version()">
              <metal:block use-macro="here/macro_view_metadata/macros/metadata">
                <h2 metal:fill-slot="table_title">
                  <img tal:replace="structure icon" />
                 <tal:block i18n:translate="">properties</tal:block>
                  <span tal:condition="not: model/implements_container" i18n:translate="">
                    for closed version of
                    &#xab;<span tal:replace="string:${title}" i18n:name="title">title</span>&#xbb;
                  </span>
                </h2>
              </metal:block>
            </tal:block>
          </tal:block>
          
          <tal:block replace="nothing"> _______ edit single version metadata _______ </tal:block>
          <tal:block condition="not: model/implements_versioning">
            <tal:block define="content model">
              <metal:block use-macro="here/macro_edit_metadata/macros/metadata" />
            </tal:block>
          </tal:block>
        </td>
      </tr>
    </tbody>
  </table>
</metal:block>
</metal:block>
</html>
