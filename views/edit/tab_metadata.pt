<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html tal:omit-tag=""
  lang="en"
  xml:lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:notal="http://www.infrae.com/silva/notal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  tal:define="
    global vein string:properties;"
    i18n:domain="silva">

<!-- tab_metadata for content (non-Container) objects -->
<metal:block use-macro="here/macro_index/macros/master">
<metal:block fill-slot="main">
  <table class="columns columns2">
    <tbody>
      <tr>
        <tal:block replace="nothing">
          _____________________ sidebar _____________________
        </tal:block>
        <td class="left">
          <metal:block use-macro="view/macro_vein_navigation/macros/vein" />
        </td>
        <tal:block replace="nothing">
          _____________________ main _____________________
        </tal:block>
        <td class="main">
          <tal:block condition="model/implements_versioning">
            <tal:block 
              define="version model/get_editable | nothing;"
              condition="model/get_unapproved_version"
              >
              <!-- editable version metadata table, thus editable -->
              <metal:block use-macro="here/macro_metadata/macros/edit_table" />
            </tal:block>
            
            <tal:block 
              define="version model/get_previewable | nothing;"
              condition="model/get_approved_version"
              >
              <metal:block use-macro="here/macro_metadata/macros/view_table">
                <!-- approved version metadata table, so only viewable -->
                <h2 i18n:translate="metadata_label" 
                  metal:fill-slot="table_title"
                  >
                  <img tal:replace="structure python:view.render_icon(model)" />
                  metadata
                  <span tal:condition="not: model/implements_container">
                    <span i18n:translate="for_public_version_of">for approved version of</span>
                    &#xab;<span tal:replace="string:${title}">title</span>&#xbb;
                  </span>
                </h2>
              </metal:block>
            </tal:block>
            
            <tal:block 
              define="version model/get_viewable | nothing;"
              condition="model/get_public_version"
              >
              <metal:block use-macro="here/macro_metadata/macros/view_table">
                <!-- published version metadata table, so only viewable -->
                <h2 i18n:translate="metadata_label" 
                  metal:fill-slot="table_title"
                  >
                  <img tal:replace="structure python:view.render_icon(model)" />
                  metadata
                  <span tal:condition="not: model/implements_container">
                    <span i18n:translate="for_public_version_of">for public version of</span>
                    &#xab;<span tal:replace="string:${title}">title</span>&#xbb;
                  </span>
                </h2>
              </metal:block>
            </tal:block>
          </tal:block>
          
          <tal:block condition="not: model/implements_versioning">
            <tal:block define="version model">
              <!-- non-versioned content, thus editable -->
              <metal:block use-macro="here/macro_metadata/macros/edit_table" />
            </tal:block>
          </tal:block>
        </td>
      </tr>
    </tbody>
  </table>
</metal:block>
</metal:block>
</html>
