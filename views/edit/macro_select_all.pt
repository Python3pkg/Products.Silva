<html lang="en"
  xml:lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  i18n:domain="silva">
<body>
<metal:block define-macro="select_all">
  <tal:block define="
    sid select_id | python:'';
    global aid_postfix aid_postfix | python:0;
    global aid_postfix python:aid_postfix + 1">
  <input class="min"
    type="checkbox"
    name="all"
    title="select all: alt-a"
    tal:attributes="
      onclick string:toggleSelect(this, '${sid}');;;
      id string:all_${aid_postfix};
      name string:all_${aid_postfix};
      "
    i18n:attributes="title"
  />
  </tal:block>
  <label for="all"
    accesskey="a"
    i18n:attributes="accesskey select_all_accesskey;"
    tal:attributes="for string:all_${aid_postfix};"
    >
    <span i18n:translate="">select <u>a</u>ll</span>
  </label>
  <script type="text/javascript"
    xml:space="preserve">
    <!--
    
    function toggleSelect(checkbox, id) 
    {
      if (checkbox.checked) 
      {
        for (i = 0; i < checkbox.form.elements.length; i++)
        {
          obj = checkbox.form.elements[i];
          if (!id || obj.name.indexOf(id) > -1)
          {
            obj.checked = true;
          }
        }
        //checkbox.form.selectButton.value = "Deselect all";
      }
      else 
      {
        for (i = 0; i < checkbox.form.elements.length; i++)
        {
          obj = checkbox.form.elements[i];
          if (!id || obj.name.indexOf(id) > -1)
          {
            obj.checked = false;
          }
        }
        //checkbox.form.selectButton.value = "Select all";
      }
    }
    //-->
  </script>
</metal:block>
</body>
</html>
