<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html tal:omit-tag=""
  lang="en"
  xml:lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:notal="http://www.infrae.com/silva/notal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  i18n:domain="silva"
  tal:define="
    maintitlecolspan string:3;
    vein string:edit;
">
<metal:use-macro use-macro="here/macro_tab_edit/macros/editor">

<metal:block fill-slot="script">
<script type="text/javascript" 
  tal:attributes="src here/reference.js/absolute_url">
</script>
</metal:block>

<metal:editorcontent fill-slot="editor_content">
 <tal:def define="
    version     python:model.get_editable();
    link_status python:here.get_ghost_link_status_text(version);
    content_url python:version.get_haunted_url();
  ">
 <metal:use-macro use-macro="here/macro_edit/macros/three-col-layout">
   <metal:fillbody fill-slot="main-body">

      <tr>
        <th class="align-right"
          width="15%"
          i18n:translate="">
          attributes
        </th>
        <th i18n:translate="">
          content
        </th>
        <th width="30%" i18n:translate="">
          note
        </th>
      </tr>

      <tr class="even">
        <td class="align-right">
          <input class="button transporter"
            type="button"
            value="reference..."
            title="Locate item to refer to: alt-r"
            accesskey="r"
            tal:define="asset_context python:here.get_start_container();"
            tal:attributes="onclick string: reference.getReference(
                                      function(path, id, title) {
                                        document.getElementsByName(
                                          'content_url'
                                        )[0].value = path;;
                                      },
                                      '${asset_context/absolute_url}',
                                      'Content', true, '${content_url}')"
            i18n:attributes="value;title"
            /><span class="warning"> *</span>
        </td>
        <td>
          <input class="store"
            type="text"
            name="content_url"
            size="60"
            value=""
            tal:attributes="value content_url"
          />
        </td>
        <td i18n:translate="">
          Path to original (begins with &#8216;/&#8217;).
        </td>
      </tr>

      <tr class="odd"
        tal:condition="not:link_status">
        <td class="align-right" i18n:translate="">
          link
        </td>
        <td>
          <a href="original"
            tal:attributes="href python:content_url + '/edit/tab_edit'"
            tal:content="python: model.get_editable().get_title_editable()">
            Link
          </a>
        </td>
        <td i18n:translate="">
          Link to editor screen of original.
        </td>
      </tr>

      <tr class="odd"
        tal:condition="link_status">
        <td class="field-title" i18n:translate="">
          problem
        </td>
        <td class="alert">
          <span class="error" i18n:translate=""
            tal:content="structure link_status" />
        </td>
        <td>
          &nbsp;
        </td>
      </tr>
   </metal:fillbody>

   <metal:fillfoot fill-slot="main-foot">
      <tr class="controls">
        <td class="align-right"
          colspan="3">
          <input class="button"
            type="submit"
            name="submit:method"
            value="save reference"
            title="access key: alt-s"
            accesskey="s"
            i18n:attributes="value;title"
          />
        </td>
      </tr>
   </metal:fillfoot>
 </metal:use-macro>
  </tal:def>
</metal:editorcontent>

</metal:use-macro>
</html>
