<html tal:omit-tag=""
  tal:define="
    view here;
    model request/model;
    root_url model/get_root_url;
    global editable model/get_editable;
    title model/get_title_editable;
    vein string:edit;
    "
    xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    i18n:domain="silva"
    >
<table class="columns columns3">
  <tbody>
    <tr>
      <tal:block replace="nothing">
        _____________________ sidebar subtable _____________________
      </tal:block>
      <td class="left"
        tal:define="template_id string:tab_edit">
        <metal:block use-macro="view/macro_vein_navigation/macros/vein" />
      </td>

      <tal:block replace="nothing">
        _____________________ main _____________________
      </tal:block>
      <td class="main">

<form method="post"
  name="form"
  action="submit"
  tal:condition="model/get_unapproved_version"
  tal:define="
    version     python:model.get_editable();
    link_status python:here.get_ghost_link_status_text(version);
    content_url python:version.get_haunted_url();
">

  <table class="listing">
    <thead>
      <tal:block replace="nothing">
        ______________ vein + title row ______________
      </tal:block>
      <tr>
        <td class="top"
          colspan="3">
          <h2>
            <img tal:replace="structure python:view.render_icon(model)" />
            <tal:block i18n:translate="">ghost of &#xab;<tal:block i18n:name="name" content="title" />&#xbb;</tal:block>
          </h2>
        </td>
      </tr>
    </thead>

    <tbody>
      <tr>
        <th class="align-right"
          width="15%"
          i18n:translate="">
          attributes
        </th>
        <th i18n:translate="">
          content
        </th>
        <th width="30%" i18n:translate="">
          note
        </th>
      </tr>

      <tr class="even">
        <td class="align-right">
          <input class="transport"
            type="button"
            value="reference..."
            title="Locate item to refer to: alt-r"
            accesskey="r"
            tal:define="asset_context python:here.get_start_container();"
            tal:attributes="onclick string: reference.getReference(
                                      function(path, id, title) {
                                        document.getElementsByName(
                                          'content_url'
                                        )[0].value = path;;
                                      },
                                      '${asset_context/absolute_url}',
                                      'Content', true)"
            i18n:attributes="value;title"
            /><span class="warning">*</span>
        </td>
        <td>
          <input style="width:100%;"
            type="text"
            name="content_url"
            size="60"
            value=""
            tal:attributes="value content_url"
          />
        </td>
        <td i18n:translate="">
          Path to original (begins with &#8216;/&#8217;).
        </td>
      </tr>

      <tr class="odd"
        tal:condition="not:link_status">
        <td class="align-right" i18n:translate="">
          link
        </td>
        <td>
          <a href="original"
            tal:attributes="href python:content_url + '/edit/tab_edit'"
            tal:content="python: model.get_editable().get_title_editable()">
            Link
          </a>
        </td>
        <td i18n:translate="">
          Link to editor screen of original.
        </td>
      </tr>

      <tr class="odd"
        tal:condition="link_status">
        <td class="field-title" i18n:translate="">
          problem
        </td>
        <td class="alert">
          <span class="error" i18n:translate=""
            tal:content="structure link_status" />
        </td>
        <td>
          &nbsp;
        </td>
      </tr>
    </tbody>

    <tfoot>
      <tr class="controls">
        <td class="align-right"
          colspan="3">
          <input class="button"
            type="submit"
            name="form_submitted"
            value="save reference"
            title="access key: alt-s"
            accesskey="s"
            i18n:attributes="value;title"
          />
        </td>
      </tr>
    </tfoot>
  </table>
</form>

      </td>
      <tal:block replace="nothing">
        _____________________ right column _____________________
      </tal:block>
      <td class="right">
        &nbsp;
      </td>
    </tr>
  </tbody>
</table>

</html>
