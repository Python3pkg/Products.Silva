<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html tal:omit-tag=""
  lang="en"
  xml:lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:notal="http://www.infrae.com/silva/notal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  >

<metal:block define-macro="clipboard">
  <div class="clipboard">
    <metal:block define-macro="clipboard_no_style">
      <form action="."
        method="POST"
        tal:define="
          clipboard_members python:view.lookup_get_selection().keys();">
        <h2 class="clipboard">
          <img tal:replace="structure python:view.render_icon_by_meta_type('Silva Simple Member')" />
          user lookup clipboard
        </h2>
        <table class="listing"
          style="margin-bottom:0.5em;">
          <!-- thead>
            <tr>
              <td class="top"
                style="white-space: nowrap;">                
              </td>
            </tr>
          </thead -->
          <tr class="top-controls">
            <td>
              <metal:block define-slot="clipboard_lookup_action">
                <a class="navigation" 
                  style="float:right;"
                  href="lookup"
                  title="lookup users: alt-l"
                  accesskey="l">
                  <u>L</u>ookup users...
                </a>
              </metal:block>
            </td>
          </tr>
          <tr>
            <th>
              Control-click to multi-select
            </th>
          </tr>
          <tr valign="top">
            <td style="padding: 0;">
              <select class="clipboard"
                multiple="multiple"
                name="userids:list"
                size="10">
                <tal:block condition="clipboard_members">
                  <option class="disabled"
                    disabled="disabled"
                    value="None">
                    select users:
                  </option>
                  <tal:block repeat="userid clipboard_members">
                    <option value="userid"
                      tal:define="member python: model.sec_get_member(userid);"
                      tal:content="member/fullname"
                      tal:attributes="value member/userid;">
                      User
                    </option>
                  </tal:block>
                </tal:block>
                <option class="disabled"
                  disabled="disabled"
                  value="None"
                  tal:condition="not:clipboard_members">
                  No users on clipboard
                </option>
              </select>
            </td>
          </tr>
          <!-- tr class="controls controls-1 align-left">
            <td>
              <span class="widebody"
                tal:condition="clipboard_members">
                (Ctrl-mouseclick for a multi-select)
              </span>
            </td>
          </tr -->
          <tr class="controls">
            <td>
              <tal:block condition="clipboard_members">
                <metal:block define-slot="clipboard_actions" />
              </tal:block>
            </td>
          </tr>
        </table>
      </form>
    </metal:block>
  </div>
</metal:block>

</html>
