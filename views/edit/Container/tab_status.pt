<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en"
  xml:lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  tal:define="
    breadcrumb_vein string:Publish;">
<metal:block use-macro="here/macro_index/macros/master">
<metal:block tal:define="
  default_doc model/get_default;
  default_doc_url default_doc/absolute_url | nothing;
  objects model/get_processed_status_tree;"
  fill-slot="main">
  <form action="."
    method="POST"
    name="silvaObjects">
    <table class="columns columns2">
      <tbody>
        <tr>
          <td class="left">
            <tal:block replace="nothing">
              ________________ sidebar subtable ________________
            </tal:block>
            <span tal:replace="structure python: view.service_sidebar.render(model, 'tab_status', breadcrumb_vein)" />
          </td>
          <td class="main">
            <table class="listing">
              <thead>
                <tr>
                  <td class="top"
                    colspan="99">
                    <h2 tal:attributes="title string:id: ${model/id}">
                      <img tal:replace="structure python:view.render_icon(model)" />
                      <span tal:replace="structure string:${title}">
                        id
                      </span>
                    </h2>
                  </td>
                </tr>
                <tal:block replace="nothing">
                  ______________ top controls row ______________
                </tal:block>
                <tr class="top-controls">
                  <td colspan="99">
                    <span style="float:right;">
                      <input class="navigation"
                        accesskey="e"
                        name="tab_status_export:method"
                        title=""
                        type="submit"
                        value=""
                        tal:define="type python:test(model.meta_type == 'Silva Folder', 'Folder', 'Publication')"
                        tal:attributes="
                          value string:Export this ${type}...;
                          title string:export this ${type}: alt-e;" />
                        <input class="navigation"
                          accesskey="p"
                          name="tab_status_export_selected_start:method"
                          title="export selected items: alt-p"
                          type="submit"
                          value="Export selected..." />
                    </span>
                  </td>
                </tr>
              </thead>
              <tbody>
                <tal:block replace="nothing">
                  ______________ sidebar iteration ______________
                </tal:block>
                <tr>
                  <th class="listing-left">
                  </th>
                  <th>
                    Edit / Preview
                  </th>
                  <th class="align-right">
                    Revision
                  </th>
                  <th>
                    Public version
                  </th>
                  <th class="align-right">
                    Publication due
                  </th>
                  <th class="align-right">
                    Expiration due
                  </th>
                </tr>
                <tal:block repeat="obj objects">
                  <tr
                    tal:define="
                      odd repeat/obj/odd;
                      is_container obj/implements_container | nothing;
                      indent_depth python: '%spx' % str(obj['indent'] * 10);
                      obj_url obj/absolute_url;"
                    tal:attributes="
                      class python: odd and 'even' or 'odd';">
                    <td class="listing-left">
                      <input name="refs:list"
                        type="checkbox"
                        value="value"
                        tal:define="ref obj/ref | nothing"
                        tal:condition="ref"
                        tal:attributes="value ref;" />
                    </td>
                    <tal:block replace="nothing">
                      _______ title cell _______
                    </tal:block>
                    <td>
                      <div tal:attributes="style string:margin-left:${indent_depth}">
                        <div style="float: left;">
                          <a title="edit"
                            tal:attributes="href string:${obj_url}/edit/tab_edit">
                            <img tal:replace="structure obj/icon" />
                          </a>
                        </div>
                        <div style="padding-left: 19px;">
                          <a title="preview"
                            tal:attributes="
                              class obj/status_style | default;
                              href string:${obj_url}/edit/tab_preview;">
                            <span>
                              <i tal:condition="obj/is_default | nothing">
                                index of
                              </i>
                              <tal:block replace="structure obj/title_html" />
                            </span>
                          </a>
                        </div>
                      </div>
                    </td>
                    <tal:block replace="nothing">
                      _______ revision cell _______
                    </tal:block>
                    <td class="align-right">
                      <a title="status"
                        tal:condition="obj/status | nothing"
                        tal:attributes="
                          class obj/status_style | default;
                          href string:${obj_url}/edit/tab_status;">
                        <tal:block replace="obj/status" />
                      </a>
                      <a class="closed"
                        title="publish"
                        tal:condition="is_container"
                        tal:attributes="
                          href string:${obj_url}/edit/tab_status;">
                        n/a
                      </a>
                    </td>
                    <tal:block replace="nothing">
                      _______ public version cell _______
                    </tal:block>
                    <td style="white-space: nowrap;"
                      tal:define="public_status obj/public_status | nothing">
                      <a href="tab_status"
                        title="public version"
                        tal:attributes="href obj_url;"
                        tal:omit-tag="python: public_status == 'closed'">
                        <tal:block replace="public_status" />                                                
                      </a>                                            
                      <i
                        tal:define="time obj/public_version_publication_datetime | nothing"
                        tal:condition="time"
                        tal:content="string:(${time})" />
                    </td>
                    <tal:block replace="nothing">
                      _______ publication datetime cell _______
                    </tal:block>
                    <td class="align-right"
                      tal:content="structure obj/next_version_publication_datetime | nothing">
                      21 oct 2001 18:18
                    </td>
                    <tal:block replace="nothing">
                      _______ closing datetime cell _______
                    </tal:block>
                    <td class="align-right"
                      tal:content="structure obj/public_version_expiration_datetime | nothing">
                      21 oct 2001 18:18
                    </td>
                  </tr>
                </tal:block>
              </tbody>
              <tfoot tal:condition="may_change_content">
                <tr tal:condition="objects">
                  <th class="controls listing-left"
                    colspan="99">
                    <span style="float:right;">
                      Date format: day/month/year
                    </span>
                    <metal:block use-macro="view/macro_select_all/macros/select_all" />
                  </th>
                </tr>
                <tr class="controls controls-1">
                  <tal:block replace="nothing">
                    ______________ expiration time controls ______________
                  </tal:block>
                  <td class="align-right"
                    colspan="99">
                    <label class="widebody"
                      title="access key: alt-i" 
                      accesskey="i">
                      expiration time:
                    </label>
                    <tal:block replace="structure python:view.tab_status_form.expiration_datetime.render(REQUEST=request)" />
                    &nbsp;
                    <label class="widebody"
                      title="access key: alt-m" 
                      accesskey="m">
                      publish time:
                    </label>
                    <field tal:replace="structure python:view.tab_status_form.publish_datetime.render()" />
                  </td>
                </tr>
                <tal:block replace="nothing">
                  ______________ editor controls ______________
                </tal:block>
                <tr class="controls controls-1">
                  <td class="align-right"
                    colspan="99">
                    <label 
                      for="publish_now_flag" 
                      title="access key: alt-u" 
                      accesskey="u">
                      <span class="widebody">
                        p<u>u</u>blish&nbsp;now?
                      </span>
                    </label>
                    <field tal:replace="structure python:view.tab_status_form.publish_now_flag.render()" />
                  </td>
                </tr>
                <tr class="controls"
                  tal:condition="may_approve_content">
                  <td colspan="4">
                    <input class="button"
                      accesskey="j"
                      name="tab_status_reject:method"
                      title="reject request for approval of new versions: alt-j"
                      type="submit"
                      value="Reject request for approval" />
                    <input class="button"
                      accesskey="v"
                      name="tab_status_revoke:method"
                      title="withdraw approval of new versions: alt-v"
                      type="submit"
                      value="Revoke approval" />
                    <input class="warning"
                      accesskey="c"
                      name="tab_status_close:method"
                      title="close published items: alt-c"
                      type="submit"
                      value="Close public" />
                    <input class="button"
                      accesskey="s"
                      name="tab_status_change_settings:method"
                      title="change publish and expiration times: alt-s"
                      type="submit"
                      value="Change timings" />
                  </td>
                  <td class="align-right"
                    colspan="2">
                    <input class="button"
                      accesskey="o"
                      name="tab_status_approve:method"
                      title="approve or publish new versions: alt-o"
                      type="submit"
                      value="Approve" />
                  </td>
                </tr>
                <tr class="controls"                  
                  tal:condition="not:may_approve_content">
                  <tal:block replace="nothing">
                    ______________ author controls ______________
                  </tal:block>
                  <td colspan="99">
                    <input class="button"
                      accesskey="w"
                      name="tab_status_withdraw:method"
                      title="withdraw request for approval of new versions: alt-w"
                      type="submit"
                      value="Withdraw approval request" />
                    <input class="button"
                      accesskey="v"
                      name="tab_status_revoke:method"
                      title="revoke approval of new versions: alt-v"
                      type="submit"
                      value="Revoke approval" />
                    <input class="button"
                      accesskey="r"
                      name="tab_status_request_approval:method"
                      title="request approval for new versions: alt-r"
                      type="submit"
                      value="Request approval" />
                  </td>
                </tr>
              </tfoot>
            </table>
          </td>
        </tr>
      </tbody>
    </table>
  </form>
</metal:block>
</metal:block>
</html>
