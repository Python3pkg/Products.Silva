<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html tal:omit-tag=""
  lang="en"
  xml:lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:notal="http://www.infrae.com/silva/notal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  tal:define="
    global breadcrumb_vein string:Rename;
    global active_tab string:tab_edit;
  ">
<metal:block use-macro="here/macro_index/macros/master">
<metal:block fill-slot="main">

<tal:condition condition="python:view.REQUEST.has_key('ids')">
<tal:define define="global objects view/REQUEST/ids" />

<form class="focus-box" style="width:98%; max-width:98%;" action="tab_edit_rename_submit" method="POST">
<table class="listing">
<thead>
  <tr>
    <td class="top location" colspan="4">
    <h2>
      <img tal:replace="structure python:view.render_icon(model)" />
      Rename objects in <span tal:content="structure string:&#xab;${model/get_title_or_id_html}&#xbb;">title</span>
    </h2>
    </td>
  </tr>

  <tr>
    <th class="align-right">
      item
    </th>
    <th>
      old
    </th>
    <th>
      new
    </th>
    <th>
    Notes
    </th>
  </tr>
</thead>

<tbody>
  <tal:repeat repeat="objectid objects">
  <tal:define define="object python:getattr(model, objectid)">
  <tal:cycle define="oddrow repeat/objectid/odd">
  <tr class="odd" valign="top">
  <td class="align-right">
    id
  </td>
  <td>
    <span tal:replace="object/getId" />&nbsp;
  </td>
  <td>
    <input type="text" name="name" style="width: 100%" value="value"
      tal:attributes="name string:id_${object/getId}; value object/getId" />
  </td>
  <td>
  </td>
  </tr>

  <tr class="even" valign="top">
  <td class="align-right">
    title
  </td>
  <td>
    <span tal:condition="python: object.getId() != 'index'"
      tal:replace="structure object/get_title_html" />
    <span tal:condition="python: object.getId() == 'index'"
      tal:replace="structure object/aq_inner/aq_parent/get_title_html" />
  </td>
  <td width="45%">
    <input
      type="text"
      name="name"
      style="width: 100%"
      value="value"
      tal:condition="python: object.getId() != 'index'"
      tal:attributes="name string:title_${object/getId}; value object/get_title_editable" />
    <input
      type="text"
      name="name"
      style="width: 100%"
      tal:condition="python: object.getId() == 'index'"
      tal:attributes="name string:title_${object/getId}; value object/get_title_editable" />
  </td>
  <td>
    <span class="error" tal:condition="python: object.getId() == 'index'">
      Changes the title of the folder!
    </span>
  </td>
  </tr>
  <tr class="divider"
    tal:condition="not: repeat/objectid/end">
    <td colspan="5">
      &nbsp;
   </td>
  </tr>
  </tal:cycle>
  </tal:define>
  </tal:repeat>
</tbody>

<tfoot>
  <tr class="controls">
    <td colspan="4">
      <input class="button" style="float:right;" type="submit" value=" Rename " title="Access key: alt-r" accesskey="r" />
      <input class="cancel" type="button" name="edit_cancel" value=" Cancel " onClick="history.back()" title="Access key: alt-c" accesskey="c" />
    </td>
  </tr>
</tfoot>
</table>
</form>

</tal:condition>

<tal:condition condition="python: not here.REQUEST.has_key('ids')">
No items to rename!<br />
<a href="#" tal:attributes="href python:'/'.join(model.getPhysicalPath()) + '/edit'">Edit</a>
</tal:condition>

</metal:block>
</metal:block>
</html>
