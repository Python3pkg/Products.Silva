<html lang="en"
  xml:lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  >
<body>
<metal:block define-macro="select_all">
  <tal:block define="sid select_id | python:''">
  <input name="all"
    type="checkbox"
    value="whatever"
    id="all"
    title="select all: alt-a"
    tal:attributes="onChange string:toggleSelect('${sid}');;"
  />
  </tal:block>
  <label for="all"
    accesskey="a">
    Select <u>a</u>ll
  </label>
  <script type="text/javascript"
    xml:space="preserve">
    <!--
    isSelected = false;

    function toggleSelect(id) {
      if (isSelected == false) {
        for (i = 0; i < document.silvaObjects.length; i++)
        {
          obj = document.silvaObjects.elements[i];
          if (!id || obj.name.indexOf(id) > -1)
          {
            obj.checked = true;
          }
        }
        isSelected = true;
        //document.silvaObjects.selectButton.value = "Deselect all";
        return isSelected;
      }
      else {
        for (i = 0; i < document.silvaObjects.length; i++)
        {
          obj = document.silvaObjects.elements[i];
          if (!id || obj.name.indexOf(id) > -1)
          {
            obj.checked = false;
          }
        }
        isSelected = false;
        //document.silvaObjects.selectButton.value = "Select all";
        return isSelected;
      }
    }
    //-->
  </script>
</metal:block>
</body>
</html>
