<!-- ___________________________ start index_html ______________________ -->
<tal:block define="
  global breadcrumb_vein string:New;
  global active_tab string:tab_edit;" />
<html metal:use-macro="here/macro_index/macros/master">
<div metal:fill-slot="main" tal:omit-tag="">
<!-- ___________________________ start index_html/slot main ____________________________ -->

<tal:block define="
  global objects python:model.get_tree();
  global silva_permissions here/get_silva_permissions;
  dummy model/security_trigger;
  " />

<div class="margins">

<h2><img src="%s" width="16" height="16" alt="%s"
      tal:replace="structure python:view.render_icon(model.meta_type)" />&nbsp;
  Silva objects available at <span class="folder-title" tal:content="structure string:&#xab;${model/get_title_or_id_html}&#xbb;">title here</span>
</h2>
</div>

<table cellspacing="0" cellpadding="0" border="0" width="100%">
<span tal:replace="nothing"> ______________ framing table header ______________ </span>
<tr tal:replace="nothing">
  <td class="divider" colspan="3"><img tal:attributes="src string:${silva_root}/globals/pixel.gif" width="1" height="2" /></td>
</tr>

<tr class="topcontrols" valign="bottom">
  <td width="22%" nowrap="1">
    <img tal:attributes="src string:${silva_root}/globals/pixel.gif" width="2" height="16" /><a href="treelink" title="Up to containing publication: alt-[" accesskey="["
      tal:condition="python:model != model.get_root()"
      tal:attributes="href python:model.aq_parent.get_publication().absolute_url() + '/edit/tab_edit_new'"><img width="16" height="16" border="0" alt="Up to containing Publication" hspace="3"
      tal:attributes="src python:test(model.get_publication() == model, '%s/globals/up_publication_gray.gif'%silva_root, '%s/globals/up_tree_gray.gif'%silva_root)" /></a>
    <span class="tablehead3">Publication</span>
    <a href="../../edit/tab_edit_new" title="Up one level: alt-]" accesskey="]"
      tal:condition="python:model != model.get_root()"><img tal:attributes="src string:${silva_root}/globals/up_level_gray.gif" width="16" height="16" border="0" alt="Up one level" hspace="5" /></a>
  </td>
  <td class="divider"><img tal:attributes="src string:${silva_root}/globals/pixel.gif" width="1" height="22" /></td>
  <td class="transparent">
    <span class="back3" style="margin-left:20px;">&nbsp;Object descriptions</span>  
  </td>
  <td tal:replace="nothing">
    <img tal:attributes="src string:${silva_root}/globals/pixel.gif" width="3" height="16" /><img src="%s" width="16" height="16" alt="%s"
      tal:replace="structure python:view.render_icon(model.meta_type)" />&nbsp;
    <span class="tablehead3"><span tal:replace="model/id">id</span></span>
  </td>
</tr>

<span tal:replace="nothing"> _____________________ sidebar _____________________ </span>

<tr class="focus" valign="top">
  <td>
    <!-- inner table for sidebar -->
    <table cellspacing="0" cellpadding="1" border="0" width="100%">
<span tal:replace="nothing"> ______________ publication header ______________ </span>
      <tr>
        <td class="border"
          tal:attributes="class python:test(model == model.get_publication(), 'hilight', 'focus-fixed')">
          <img tal:attributes="src string:${silva_root}/globals/pixel.gif" width="1" height="16" />
          <a href="top" title="Up to publication top"
            tal:define="url python:model.get_publication().absolute_url()"
            tal:attributes="href string:${url}/edit/tab_edit_new"><img tal:replace="structure python:view.render_icon(model.meta_type)" /></a>
          <a class="blacklink" href="top" title="Up to publication top" tal:define="url python:model.get_publication().absolute_url()"
            tal:attributes="href string:${url}/edit/tab_edit_new"><span tal:replace="structure python:model.get_publication().get_title_or_id_html()">Publication top</span></a>
        </td>
      </tr>

      <span tal:replace="nothing"> ______________ folder listing ______________ </span>
      <rowset tal:omit-tag=""
        tal:repeat="indent_item python:model.get_publication().get_container_tree()">
        <tr tal:define="item python:indent_item[1]; indent python:indent_item[0];
          oddrow repeat/indent_item/odd">
          <td class="hilight"
            tal:attributes="class python:test(model == item, 'hilight', 'focus')">
            <div tal:attributes="style python:'margin-left:'+str(indent * 16 + 5)">
              <span no-class="position-relative"
               no-tal:attributes="style python:'left:%s%%' % str(indent*3)">
                <a href="folder" title="Manage folder"
                 tal:attributes="href string:${item/absolute_url}/edit/tab_edit_new"><img src="%s" width="16" height="16" alt="%s"
                 tal:replace="structure python:view.render_icon(item.meta_type)" /></a>
                <a class="blacklink" href="title" title="id"
                 tal:attributes="href string:${item/absolute_url}/edit/tab_edit_new;
                                  title string:id: ${item/id}">
                  <span tal:replace="structure python:item.getProperty('short_title') or item.get_title_or_id_html()">no title</span>
                </a>
              </span>
            </div>
          </td>
        </tr>
      </rowset>
    </table>
  </td>
  <td class="divider"><img tal:attributes="src string:${silva_root}/globals/pixel.gif" width="1" height="1" /></td>

  <td class="transparent">
    <!-- inner table -->

<span tal:replace="nothing"> _____________________ objects subtable _____________________ </span>

<table cellspacing="0" cellpadding="5" border="0" width="96%" style="margin-left:20px;margin-right:20px;"
  tal:condition="silva_permissions/ChangeSilvaContent">
<tr valign="top">
  <td colspan="2">
    <p class="readable">
      Following are descriptions of Silva objects that can be added at this location. Click a name to add it. For additional information about the item see the Silva documentation.
      <br /><br />
    </p>
  </td>
</tr>

<span tal:replace="nothing"> ______________ listing iteration ______________ </span>
<tal:repeat repeat="addable model/get_silva_addables">

<tr valign="bottom">
  <td width="16"><img src="%s" width="16" height="16" alt="%s"
      tal:replace="structure python:view.render_icon(addable['name'])" /></td>
  <td>
    <span class="back4">
      <a href="#"
          tal:content="addable/name" 
          tal:attributes="href python:'add_object?meta_type=%s' % addable['name'].replace(' ', '+')">Addable
         </a>
    </span>
  </td>
</tr>

<tr valign="top">
  <td>
  </td>
  <td>
    <p class="readable"
     tal:condition="python: addable.has_key('instance')"
     tal:content="structure addable/doc">
      Description lorem ipsum dolor....
    </p>
    <span tal:replace="nothing" tal:condition="repeat/addable/end" tal:omit-tag=""><br /></span>
  </td>
</tr>
</tal:repeat>
</table>

    <tal:block condition="not:silva_permissions/ChangeSilvaContent">
    Soryy, you're not authorized to add anything here.
    </tal:block>

  </td>
</tr>

<tr>
  <td class="divider" colspan="2"><img tal:attributes="src string:${silva_root}/globals/pixel.gif" width="1" height="2" /></td>
</tr>
</table>

<!-- ___________________________ end index_html/slot main ____________________________ -->
</div>
</html>
<!-- ___________________________ end index_html ______________________________________ -->
