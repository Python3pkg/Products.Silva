<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html tal:omit-tag=""
  lang="en"
  xml:lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:notal="http://www.infrae.com/silva/notal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  i18n:domain="silva"
  tal:define="
    active_tab string:../../edit/tab_access_groups;
    parent_screen_name string:groups;
    has_access here/has_change_access_permission;"
>
<metal:block use-macro="here/macro_edit/macros/editor">
 <metal:fill-editor-slot fill-slot="main">
  <metal:use-macro use-macro="here/macro_edit/macros/three-col-layout">

 <metal:fillhead fill-slot="main-head">
   <tr class="top-controls">
      <td>
        <h3 i18n:translate="">
          group members
        </h3>
      </td>
    </tr>
 </metal:fillhead>

 <metal:fillbody fill-slot="main-body">
  <tal:block tal:condition="python:has_access and model.isValid()"
      tal:define="userids model/listUsers">
      <tr>
        <th tal:condition="userids"
          i18n:translate="">
          Username
        </th>
      </tr>
      <tal:block replace="nothing">
        ______________ group listing ______________
      </tal:block>
      <tal:block repeat="userid userids">
        <tr valign="top"
          tal:define="
            iterate repeat/userid/odd;
            member python:model.sec_get_member(userid)"
          tal:attributes="class python: iterate and 'odd' or 'even'">
          <td>
            <input class="min"
                   type="checkbox"
                   name="userids:list"
                   tal:attributes="value member/userid;
                                   id member/userid" />
            <tal:icon
               tal:define="user_meta member/meta_type"
               tal:replace="structure python:model.render_icon_by_meta_type(user_meta)" />
            <label tal:content="member/fullname"
                   tal:attributes="for member/userid">
              Member
            </label>
          </td>
        </tr>
      </tal:block>
      <tr class="even"
        tal:condition="not:userids">
        <td>
          <i i18n:translate="">
            This group does not have any members.
          </i>
        </td>
      </tr>
      <tr class="controls">
        <td>
          <input class="warning"
            type="submit"
            value="remove users"
            name="remove_users_from_group:method"
            title="remove selected user(s) from this group: alt-r"
            accesskey="r"
            onclick="return confirm('Really remove?')"
            tal:condition="userids"
            i18n:attributes="title;value;"
          />
        </td>
      </tr>
  </tal:block>
  <tal:block condition="not:model/isValid | nothing" i18n:translate="">
    "Things to do when virtual groups is not in its original location"
  </tal:block>
 </metal:fillbody>

 <metal:fillright fill-slot="right-column">
   <tal:block condition="has_access">
     <tal:block replace="nothing">
       ______________ user clipboard ______________
     </tal:block>
     <metal:block use-macro="here/macro_user_lookup_clipboard/macros/clipboard">
       <metal:block fill-slot="clipboard_actions">
         <input class="button"
           name="add_users_to_group:method"
           type="submit"
           value="add to group"
           title="add selected users to this group"
           accesskey="a"
           i18n:attributes="title;value"
         />
       </metal:block>
     </metal:block>
     <br />
     <tal:block replace="nothing">
       ______________ groups clipboard ______________
     </tal:block>
     <tal:define define="
       global group_meta_type string:Silva Group;
       global group_type string:user;
       ">
       <metal:block use-macro="here/macro_groups_listing/macros/normal_groups_listing">
         <metal:block fill-slot="listing_actions">
           <input class="button"
             name="add_users_from_group_to_group:method"
             type="submit"
             value="copy users from group(s)"
             title="transfer members from selected groups"
             accesskey="c"
             i18n:attributes="title;value"
           />
         </metal:block>
       </metal:block>
     </tal:define>
   </tal:block>
  </metal:fillright>
  </metal:use-macro>
 </metal:fill-editor-slot>
</metal:block>

</html>
