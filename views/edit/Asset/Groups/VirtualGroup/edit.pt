<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html tal:omit-tag=""
  tal:define="
    view here;
    model request/model;
    root_url model/get_root_url;
    title model/get_title_editable;
    vein string:editor;
    active_tab string:../../edit/tab_access_groups;
    parent_screen_name string:groups;
    has_access here/has_change_access_permission;">
  
<table class="columns columns3">
  <tbody>
    <tr>
      <tal:block replace="nothing">
        _____________________ sidebar _____________________
      </tal:block>
      <td class="left"
        tal:define="template_id string:tab_edit">
        <tal:block replace="nothing">
          ______________ parent screen link ______________
        </tal:block>
        <metal:block use-macro="view/macro_vein_navigation/macros/parent" />
        <tal:block replace="nothing">
          ______________ vein navigation ______________
        </tal:block>
        <metal:block use-macro="view/macro_vein_navigation/macros/vein" />
      </td>

      <tal:block replace="nothing">
        _____________________ main _____________________
      </tal:block>
      <td class="main">

<table class="listing">
  <thead>
    <tal:block replace="nothing">
      ______________ vein + title row ______________
    </tal:block>
    <tr>
      <td class="top"
        colspan="3">
        <h2>
          <img tal:replace="structure python:view.render_icon(model)" />
          <span style="text-transform:lowercase;"
            tal:content="model/meta_type">Meta type</span> 
            &#xab;<tal:block content="model/get_title_or_id" />&#xbb;
        </h2>
      </td>
    </tr>
    <tr class="top-controls">
      <td>
        <h3>
          Virtual Group &#8216;members&#8217;
        </h3>
      </td>
    </tr>
  </thead>

  <tbody tal:condition="has_access">
    <form action="."
      method="POST"
      tal:define="groupids model/listGroups"
      tal:condition="model/isValid | nothing">
      <tr>
        <th tal:condition="groupids"
          i18n:translate="group name">
          Group name
        </th>
      </tr>
      <tal:block replace="nothing">
        ______________ group listing ______________
      </tal:block>
        <tal:block repeat="groupid groupids">
        <tr valign="top"
          tal:define="iterate repeat/groupid/odd;"
          tal:attributes="class python: iterate and 'odd' or 'even'">
          <td>
            <input class="warning-checkbox"
              name="groupids:list"
              type="checkbox"
              value="groupid"
              tal:attributes="
                value groupid;
                id groupid"
            />
            &nbsp;
            <label tal:content="groupid"
              tal:attributes="for groupid">
              group name
            </label>
          </td>
        </tr>
      </tal:block>
      <tr class="even"
        tal:condition="not:groupids">
        <td>
          <i i18n:translate="virtual_group_does_not_have_member_groups">
           This Virtual Group does not have any &#8216;member groups&#8217;.
          </i>
        </td>
      </tr>
      <tr class="controls">
        <td>
          <input class="warning"
            type="submit"
            value="remove group"
            name="remove_groups_from_virtualgroup:method"
            title="remove selected group(s) from this virtual group: alt-r"
            accesskey="r"
            i18n:attributes="title value"
            onClick="return confirm('Really remove?')"
            tal:condition="groupids"
          />
        </td> 
      </tr>
    </form>
  </tbody>
</table>

<tal:block condition="not:model/isValid | nothing">
  "Things to do when virtual groups is not in it original location"
</tal:block>

      </td>

      <tal:block replace="nothing">
        _____________________ right column _____________________ 
      </tal:block>
      <td class="right">
        <tal:block condition="has_access">
          <tal:block replace="nothing">
            ______________ groups clipboard ______________
          </tal:block>
          <tal:define define="
            global group_meta_type string:Silva Group;
            global group_type nothing;
            ">
            <metal:block use-macro="view/macro_groups_listing/macros/normal_groups_listing">
              <metal:block fill-slot="listing_actions">
                <input class="button"
                  name="add_groups_to_virtualgroup:method"
                  title="add group(s) to this virtual group."
                  type="submit"
                  value="add to group" 
                  i18n:attributes="title value"
                />
              </metal:block>
            </metal:block>
          </tal:define>
          <br />
          <tal:block replace="nothing">
            ______________ virtual groups clipboard ______________
          </tal:block>
          <tal:define define="
            global group_meta_type string:Silva Virtual Group;
            global group_type string:virtual;
            ">
            <metal:block use-macro="view/macro_groups_listing/macros/virtual_groups_listing">
              <metal:block fill-slot="listing_actions">
                <input class="button"
                  type="submit"
                  value="copy from virtual group(s)" 
                  name="add_groups_from_virtualgroup_to_virtualgroup:method"
                  title="transfer groups defined in other virtual groups"
                  i18n:attributes="title value"
                />
              </metal:block>
            </metal:block>
          </tal:define>
        </tal:block>
      </td>
    </tr>
  </tbody>
</table>

</html>