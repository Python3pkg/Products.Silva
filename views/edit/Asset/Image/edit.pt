<html tal:omit-tag=""
  tal:define="
    view here;
    model request/model;
    root_url model/get_root_url;
    title model/get_title_editable;
    breadcrumb_vein string:Edit;
">

<metal:use-macro use-macro="view/macro_asset_edit/macros/editor">

<metal:fill-slot fill-slot="info">
<div class="info"
  tal:condition="model/canScale">
  <h3 class="info">
    <img tal:replace="structure icon" /> Image info
  </h3>
  <tal:condition condition="not: model/hires_image">
    <span class="subhead">format</span><br />
    <span tal:replace="model/getFormat" /> image<br />
    <span class="subhead">dimensions</span><br />
    <span 
      tal:define="
        img_width python: model.getDimensions()[0];
        img_height python: model.getDimensions()[1];
        "
      tal:on-error="string: unknown"
      tal:replace="string:${img_width}x${img_height}"
    />
  </tal:condition> 
  <tal:condition condition="model/hires_image">
    <span class="subhead">format</span><br />
    <span tal:replace="model/web_format">format</span> image<br />
    <span class="subhead">dimensions</span><br />
    <span tal:define="
      img_width python: model.getDimensions()[0];
      img_height python: model.getDimensions()[1];
      "
      tal:on-error="string: unknown"
      tal:replace="string:${img_width}x${img_height}"
    />, scaled to 
    <span tal:define="
      img_width python: model.getCanonicalWebScale()[0];
      img_height python: model.getCanonicalWebScale()[1];
      "
      tal:on-error="string: unknown"
      tal:replace="string:${img_width}x${img_height}"
    />
    <span class="subhead">original</span><br />
    <a href="" class="underline"
      title="see the original image"
      accesskey="v"
      tal:attributes="href string:${model/absolute_url}/hires_image">view unscaled image</a>
  </tal:condition>        
</div>
<div class="info"
  tal:condition="not: model/canScale">
  Note: Silva provides image scaling and conversion when PIL 
  (<a href="http://www.pythonware.com/products/pil/">Python Imaging Library</a>) 
  is installed. 
</div>
</metal:fill-slot>

<metal:fill-slot fill-slot="additional_tools">
<metal:block use-macro="view/macro_asset_edit/macros/uploader" />
</metal:fill-slot>

</metal:use-macro>

</html>
