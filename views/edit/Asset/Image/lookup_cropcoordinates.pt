<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html tal:omit-tag=""
  lang="en"
  xml:lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:notal="http://www.infrae.com/silva/notal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  tal:define="global vein string:contents;"
  i18n:domain="silva">

  <style type="text/css">
    #draggable {
      background-color: white;
      position: absolute;
      border: 1px solid black;
      z-index: 1;
      -moz-opacity: 0.6;
    }

    #dragbar {
      display: block;
      background-color: #91989b;
      border: 1px solid black;
      color: white;
      text-align: center;
      cursor: default;
      z-index: 5;
      -moz-opacity: 1;
    }

    #dragbar:active {
      background-color: red;
    }

    #handle {
      position: absolute;
      /*right: 2px;
      bottom: 2px;*/
      cursor: se-resize;
      border-right: 2px solid black;
      border-bottom: 2px solid black;
    }

    #handle:active {
      border-right: 2px solid red;
      border-bottom: 2px solid red;
    }
    
  </style>
  <metal:block use-macro="here/macro_no_tabs/macros/master">
    <metal:block fill-slot="main"
      tal:define="model python:request.model;">
      
      <script type="text/javascript"
          tal:attributes="src view/cropping.js/absolute_url">
      </script>
      <div style="position: absolute; top: 0px; left: 0px;">
        <div id="draggable" style="min-width: 150px; width: 150px;
          min-height: 100px; height: 100px; top: 10px;
          left: 10px">
          <!--
          <div id="links" style="position: absolute; top: 1px; right: -100px;
            border: 1px solid red;">
            <ul>
              <li><a href="#" title="foo">set to 50x50</a></li>
              <li><a href="#" title="foo">set to 75x75</a></li>
            </ul>
          </div>-->
          <div id="dragbar" style="height: 20px">
              Drag the Window
          </div>
          <div id="handle" style="right: 2px; bottom: 2px; width: 10px; height: 10px;"></div>
        </div>

        <img tal:attributes="src string:${model/absolute_url}/hires_image;
        alt model/title_or_id" /> 
        <!-- 
        onclick="getCoordinates()" id="image" style="cursor: crosshair"/>-->
        
      </div>

      <script type="text/javascript">
        cropper = new Cropper(
                                'draggable', 
                                'dragbar', 
                                'handle', 
                                50, 
                                10);
      </script>
      
  </metal:block>
</metal:block>
</html>
