<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en"
  xml:lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  i18n:domain="silva">
<metal:block define-macro="tabs">

<tal:block define="
  tabs view/get_authorized_tabs;
  active_tab active_tab | nothing;
  selected_tab_id template/id;
  vein vein | nothing;
  mangle python:modules['Products'].Silva.mangle;
">
<!-- ______________ Breadcrumb space ______________ -->
  <div class="pathBar">
    <div style="float: right; margin-right: 5px;">
      <a class="idea"      
        href="globals/reference"
        title="Silva info: alt-|"
        accesskey="|"
        i18n:attributes="title"
        >
        Silva
      </a>
    </div>
    <a class="normal"
      href=""
      title="Silva top: alt-/"
      accesskey="/"
      tal:attributes="href string:${root_url}/edit/tab_edit"
      i18n:attributes="title"
      >
      <img alt="Silva"
        height="14"
        width="14"
        border="0"
        tal:attributes="src string:${root_url}/globals/silva_emblem.png"
        i18n:attributes="alt"
      />
    </a>
    <a name="top"> </a>
    <tal:block tal:repeat="item python:model.get_breadcrumbs(ignore_index=None)">
      <a href="url"
        tal:content="python: item.get_short_title_editable() or item.id"
        tal:attributes="href string:${item/absolute_url}/edit/${template/id}"
        >
        Name
      </a>
      <tal:block tal:condition="not:repeat/item/end">
        &middot;
      </tal:block>
    </tal:block>
    <span tal:replace="nothing">
      <!-- ____________ manage link ____________ -->
    </span>
    <tal:block condition="python:user.has_role(['Manager'], object=model)">
      <a class="manage"
        title="Zope manage_main: alt-."
        accesskey="."
        tal:attributes="href python:'%s/manage_main' % url"
        i18n:attributes="title"
        i18n:translate=""
      >
        &middot; manage...
      </a>
    </tal:block>
    <a href="#bottom" accesskey="b">
    </a>
  </div>

<!-- ______________ Matrix tabs ______________ -->
<span tal:replace="nothing">
  <!-- _______ help link _______ -->
</span>
<div class="tabs">
  <a class="normal"
    title="Silva help: alt-h"
    i18n:attributes="title"
    accesskey="h"
    target="_blank"
    tal:condition="exists:here/help_url"
    tal:attributes="href string:${here/help_url}"
    i18n:translate=""
    >
    help
  </a>
 
  <tal:repeat tal:repeat="item tabs">
    <tal:define define="
      tab_info python:view.get_tab_info(item);
      is_selected_tab python:tab_info['tab_id'] == template.id or item[1] == active_tab;
      top_key tab_info/toplink_accesskey | nothing;
      tab_key tab_info/tab_accesskey | nothing;
      up_key tab_info/uplink_accesskey | nothing;
      ">
      <a class="left"
        tal:condition="tab_info/toplink_url"
        tal:attributes="href tab_info/toplink_url;
          title string:up to top of publication: alt-${top_key};
          accesskey top_key;
          ">
        <img border="0"
           height="9"
           width="9"
           tal:attributes="src python:publication == model and '%s/globals/up_publication.gif' % root_url or '%s/globals/up_tree.gif' % root_url"
        />
      </a>
      <a class=""
        href=""
        tal:content="structure string:${tab_info/tab_name}"
        tal:attributes="href tab_info/tab_url;
          class python:is_selected_tab and (active_tab and 'recede' or 'selected') or '';
          title string:access key: alt-${tab_key};
          accesskey tab_key;"
        i18n:translate=""
        >
        Tab Name
      </a>
      <a class="right"
        tal:condition="tab_info/uplink_url"
        tal:attributes="href tab_info/uplink_url;
          title string:up a level: alt-${up_key};
          accesskey up_key;
          ">
        <img border="0"
           height="9"
           width="9"
           tal:attributes="src python: '%s/globals/up_level.gif' % root_url"
        />
      </a>
      <div class="air"> </div>
    </tal:define>
  </tal:repeat>

</div>

<div class="flowBar"></div>

</tal:block>

</metal:block>
</html>
