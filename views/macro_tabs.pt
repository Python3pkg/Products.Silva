<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en"
  xml:lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  >
<metal:block define-macro="tabs">

<tal:block define="
  tabs view/get_authorized_tabs;
  active_tab active_tab | nothing;
  selected_tab_id template/id;
  breadcrumb_vein breadcrumb_vein | nothing;
">
<!-- Breadcrumbs -->
  <div class="pathBar">
    <span style="float: right; margin-right: 5px;">
      <a class="idea"      
        href="globals/reference"
        title="Silva info: alt-|"
        accesskey="|"
        >
        Silva
      </a>
    </span>
    <span style="margin-right: 5px;">
      <a class="normal"
        href=""
        title="Silva top: alt-/"
        accesskey="/"
        tal:attributes="href string:${root_url}/edit/tab_edit"
        >
        <img alt="Silva emblem"
          height="16"
          width="16"
          border="0"
          tal:attributes="src string:${root_url}/globals/silva.gif"
        />
      </a>
    </span>

    <span tal:replace="breadcrumb_vein">
      Vein
    </span>:

    <tal:block tal:repeat="item python:model.get_breadcrumbs(ignore_index=None)">

      <a href="url"
        tal:content="structure python: item.getProperty('short_title') or item.get_title_html()"
        tal:attributes="href string:${item/absolute_url}/edit/${template/id}"
        >
        Name
      </a>

      <tal:block tal:condition="not:repeat/item/end">
        &middot;
      </tal:block>
    </tal:block>

    <tal:block condition="python:user.has_role(['Manager'], object=model)">
      <a class="manage"
        title="Zope manage_main: alt-."
        accesskey="."
        tal:attributes="href python:'%s/manage_main' % url"
      >
        /manage...
      </a>
    <!-- ___________ Start hook for the experimental Bitflux WYSIWYG editor integration ___________ -->

      <tal:block condition="python:model.meta_type == 'Silva Document' and getattr(here, 'bxe_edit', None) and getattr(here, 'bxe_config.xml', None)">
        &nbsp;experimental:&nbsp;
        <a tal:attributes="href python:'%s/bxe_edit' % url"
        >
          /bxe edit...
        </a>
      </tal:block>

    <!-- ____________ End hook for the experimental Bitflux WYSIWYG editor integration ____________ -->
    </tal:block>

    <a href="#bottom" accesskey="b">
    </a>

  </div>

<!-- Tabs -->
  <!-- Help link -->
  <div class="tabs">
      <a class="normal"
        style="float:right; margin-right:6px; padding-left: 0.8em; padding-right: 0em;"
        title="Silva help: alt-h"
        accesskey="h"
        tal:condition="exists:here/help_url"
        tal:attributes="href string:${here/help_url}"
      >
        help
      </a>

    <tal:repeat tal:repeat="item tabs">
      <tal:define define="
        tab_info python:view.get_tab_info(item);
        is_selected_tab python:tab_info['tab_id'] == template.id or item[1] == active_tab;
        top_key tab_info/toplink_accesskey | nothing;
        tab_key tab_info/tab_accesskey | nothing;
        up_key tab_info/uplink_accesskey | nothing;
      ">
        <a class="left"
          tal:condition="tab_info/toplink_url"
          tal:attributes="href tab_info/toplink_url;
            title string:Up to top of Publication: alt-${top_key};
            accesskey top_key;
        ">
          <img tal:attributes="src python:publication == model and '%s/globals/up_publication.gif' % root_url or '%s/globals/up_tree.gif' % root_url" />
        </a>
        <a class=""
          href=""
          tal:content="structure string:${tab_info/tab_name}"
          tal:attributes="href tab_info/tab_url;
            class python:is_selected_tab and (active_tab and 'recede' or 'selected') or '';
            title string:Access key: alt-${tab_key};
            accesskey tab_key;
          ">
          Tab Name
        </a>
        <a class="right"
          tal:condition="tab_info/uplink_url"
          tal:attributes="href tab_info/uplink_url;
            title string:Up a level: alt-${up_key};
            accesskey up_key;
          ">
          <img tal:replace="structure here/globals/up_level.gif" />
        </a>
        &nbsp;&nbsp;
      </tal:define>
    </tal:repeat>

  </div>

  <div class="riverBar">
    <a name="top">
      <img border="0"
        height="4"
        width="1"
        tal:attributes="src python: '%s/globals/pixel.gif' % root_url" />
    </a>
  </div>

</tal:block>

</metal:block>
</html>
