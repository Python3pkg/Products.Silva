<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html tal:omit-tag=""
  lang="en"
  xml:lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:notal="http://www.infrae.com/silva/notal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  tal:define="
    global breadcrumb_vein string:Add;
    global active_tab string:tab_edit;
    global mode_asset request/mode_asset | python:0;
    global use_macro python: (mode_asset and [here.macro_no_tabs] or [here.macro_index])[0]
  ">
<metal:block metal:use-macro="use_macro/macros/master">
<metal:block fill-slot="main">
<script type="text/javascript" 
  tal:content="structure python:here.focus_editor('field_object_id')" />

<div class="focus-rectangle">
<form name="focusbox" action="add_object_submit" method="POST" enctype="multipart/form-data">
<input type="hidden" name="meta_type" tal:attributes="value request/meta_type" />
<input type="hidden" name="mode_asset:int" value="0"
  tal:attributes="value mode_asset" />
<form action="tab_edit_rename_submit" method="POST">
<table class="listing">
<thead>
  <tr>
    <td class="top location" colspan="4">
    <h2>
      <img tal:replace="structure python:view.render_icon_by_meta_type(request.meta_type)" />&nbsp;
        create new <span tal:replace="request/meta_type" />
    </h2>
    </td>
  </tr>
</thead>

<tbody>
  <tr>
    <th class="align-right">
      Attributes
    </th>
    <th>
      Content
    </th>
    <th>
    Notes
    </th>
  </tr>

  <tal:repeat repeat="field here/form/get_fields">
  <tal:define define="oddrow repeat/field/odd">
  <tr tal:attributes="class python:test(oddrow, 'odd', 'even')">
    <td class="align-right"
      tal:content="python:field['title'].lower()">
      title
      <span class="warning"
        tal:condition="python:field.is_required()">*</span>
    </td>
    <td tal:content="structure python:field.render_from_request(request)">
      <input />
    </td>
    <td tal:content="structure string:${field/description}&nbsp;">
      note
    </td>
  </tr>
  </tal:define>
  </tal:repeat>
</tbody>

<tfoot>
  <tr class="controls">
    <td colspan="3">
      <div style="float:right;">
        <input class="button"
          type="submit"
          name="add_submit"
          value=" Save "
          title="Access key: alt-s"
          accesskey="s"
        />
        <tal:block condition="python: not mode_asset" >
          <input class="button"
            type="submit"
            name="add_edit_submit"
            value="Save and edit"
            title="Access key: alt-e"
            accesskey="e"
            tal:attributes="value python:test(here.id in ('Folder','Publication'), ' Save and enter ', ' Save and edit ')"
          />
        </tal:block>
      </div>
      <input class="cancel"
        type="submit"
        name="add_cancel"
        value=" Cancel "
        title="Access key: alt-c"
        accesskey="c"
      />
    </td>
  </tr>
</tfoot>
</table>
</form>

</metal:block>
</metal:block>
</html>
