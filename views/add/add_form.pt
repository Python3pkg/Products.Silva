<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html tal:omit-tag=""
  lang="en"
  xml:lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:notal="http://www.infrae.com/silva/notal"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  tal:define="
    global active_tab string:tab_edit;
    global breadcrumb_vein string:Add;
    global active_tab string:tab_edit;
    global breadcrumb_vein string:Add;
    global mode_asset request/mode_asset | python:0;
    global use_macro python: (mode_asset and [here.macro_no_tabs] or [here.macro_index])[0]
  ">
<metal:block metal:use-macro="use_macro/macros/master">
<metal:block fill-slot="main">
  <script type="text/javascript" 
    tal:content="structure python:here.focus_editor('field_object_id')" />

<h2><img src="%s" width="16" height="16" alt="%s"
     tal:replace="structure python:view.render_icon_by_meta_type(request.meta_type)" />&nbsp;
  Add new <span tal:replace="request/meta_type" />
</h2>
<script type="text/javascript" 
  tal:content="structure python:here.focus_editor('field_object_id')" />

<form name="focusbox" action="add_object_submit" method="POST" enctype="multipart/form-data">
<input type="hidden" name="meta_type" tal:attributes="value request/meta_type" />
<input type="hidden" name="mode_asset:int" value="0"
  tal:attributes="value mode_asset" />
<table width="96%" cellspacing="0" cellpadding="5" border="0"
  tal:attributes="width container/table_width; cellspacing container/table_cellspacing;
                  cellpadding container/table_cellpadding; border container/table_border">
<tr>
<th align="left" colspan="2" width="7%">
Attributes
</th>
<th align="left">
Content
</th>
<th align="left">
Notes
</th>
</tr>

<fieldset tal:omit-tag=""
  tal:repeat="field here/form/get_fields">
<rowset tal:omit-tag=""
  tal:define="oddrow repeat/field/odd">

<tr class="focus" valign="top"
  tal:attributes="class python:test(oddrow, 'focus-cycle', 'focus')">
<td align="right" width="10%" tal:content="python:field['title']">
title
</td>
<td align="right" width="1%">
<span class="warning"
  tal:condition="python:field.is_required()">
*
</span>
<span tal:omit-tag=""
  tal:condition="not:python:field.is_required()">
&nbsp;
</span>
</td>
<td tal:content="structure python:field.render_from_request(request)">
<input type="text" />
</td>
<td class="leadedbody" width="40%" tal:content="structure string:${field/description}&nbsp;">
id: no spaces or special characters besides an underscore (_).
</td>
</tr>

</rowset>
</fieldset>

<tr class="controls">
<td colspan="2">
<input class="cancelbutton" type="submit" name="add_cancel" value=" Cancel " title="Access key: alt-c" accesskey="c" />
</td>
<td colspan="2" align="right">
<input class="button" type="submit" name="add_submit" value=" Add " title="Access key: alt-a" accesskey="a" />
<tal:block condition="python: not mode_asset" >
  &nbsp;&nbsp;<input class="button" type="submit" name="add_edit_submit" value="Add and edit" title="Access key: Alt-e" accesskey="e"
    tal:attributes="value python:test(here.id in ('Folder','Publication'), ' Add and enter ', ' Add and edit ')" />
</tal:block>
</td>
</tr>
</table>
</form>

</metal:block>
</metal:block>
</html>
