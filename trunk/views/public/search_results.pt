<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<tal:block define="here request/model;">
<metal:block use-macro="request/model/layout_macro.html/macros/layout">
  <head>
    <title metal:fill-slot="title" i18n:translate="">Search results</title>
  </head>
  <body>
    <metal:block fill-slot="main"
      tal:define="
        results context/perform_search;
        batch python:context.getBatch(results);
        mangle modules/Products/Silva/mangle;
      ">
      <tal:block tal:condition="results">    
        <table class="silvatable" cellspacing="0" cellpadding="3">
          <thead>
            <tr class="controls">
              <td class="rowhead" align="left">
                <tal:block condition="request/previous_batch_url | nothing">
                  <a href="previousbatch" tal:attributes="href request/previous_batch_url" i18n:translate="">
                  &lt;&lt; Previous
                  </a>
                </tal:block>
              </td>
              <td class="rowhead" nowrap="1" i18n:translate="">
                Showing results
                <tal:block replace="batch/start" i18n:name="batch_start" />
                to
                <tal:block replace="batch/end" i18n:name="batch_end" />.
              </td>
              <td class="rowhead" align="right">
                <tal:block condition="request/next_batch_url | nothing">
                  <a href="nextbatch" tal:attributes="href request/next_batch_url" i18n:translate="">
                  Next &gt;&gt;
                  </a>
                </tal:block>
              </td>
            </tr>
          </thead>
          <tbody>
            <tal:block repeat="item batch">
              <tal:block tal:define="
                iterate repeat/item/even;
                obj item/getObject;
                url obj/silva_object_url | string:#;
                mdt python:mangle.DateTime(obj.get_modification_datetime()).toStrOptionalTime() or nothing;
                ">
                <tr tal:attributes="class python: iterate and 'even' or 'odd'">
                  <td class="align-right"
                    tal:define="metatype obj/meta_type">
                    <img tal:replace="structure python: here.render_icon_by_meta_type(metatype)" />
                  </td>
                  <td>
                    <a tal:content="string:${obj/get_title_or_id}"
                      tal:attributes="href url" />
                  </td>
                  <td tal:content="mdt">
                  </td>
                </tr>
              </tal:block>
            </tal:block>
          </tbody>
          <tfoot>
            <tr class="controls">
              <td class="rowhead" align="left">
                <tal:block condition="request/previous_batch_url | nothing">
                  <a href="previousbatch" tal:attributes="href request/previous_batch_url" i18n:translate="">
                  &lt;&lt; Previous
                  </a>
                </tal:block>
              </td>
              <td class="rowhead" nowrap="1">
              </td>
              <td class="rowhead" align="right">
                <tal:block condition="request/next_batch_url | nothing">
                  <a href="nextbatch" tal:attributes="href request/next_batch_url" i18n:translate="">
                  Next &gt;&gt;
                  </a>
                </tal:block>
              </td>
            </tr>
          </tfoot>
        </table>
      </tal:block>

      <tal:block tal:condition="not: results">
        <metal:block use-macro="here/public/search/macros/search">
          <metal:block fill-slot="feedback">
            <div class="feedback">
              <span class="alert">No documents matched your search.</span>
            </div><br />
          </metal:block>
        </metal:block>
      </tal:block>

    </metal:block>
  </body>
</metal:block>
</tal:block>
